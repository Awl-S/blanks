<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__line_8cpp_source" xml:lang="ru">
<title>Line.cpp</title>
<indexterm><primary>Line.cpp</primary></indexterm>
См. документацию.<programlisting linenumbering="unnumbered"><anchor xml:id="__line_8cpp_source_1l00001"/>00001 <emphasis role="preprocessor">#include&#32;&lt;cmath&gt;</emphasis>
<anchor xml:id="__line_8cpp_source_1l00002"/>00002 
<anchor xml:id="__line_8cpp_source_1l00003"/>00003 <emphasis role="preprocessor">#include&#32;&quot;../../include/RenderPDF/RenderPDF.h&quot;</emphasis>
<anchor xml:id="__line_8cpp_source_1l00004"/>00004 
<anchor xml:id="__line_8cpp_source_1l00010"/><link linkend="_class_render_p_d_f_1a3f2e7a6479a84eaecbe8a07b17aaeb5e">00010</link> <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_render_p_d_f_1a3f2e7a6479a84eaecbe8a07b17aaeb5e">RenderPDF::generate_Marks</link>(<emphasis role="keywordtype">size_t</emphasis>&#32;blank)&#32;{
<anchor xml:id="__line_8cpp_source_1l00011"/>00011 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">size_t</emphasis>&#32;size&#32;=&#32;<link linkend="_class_render_p_d_f_1a2b011efd97045da1e9ccdab286d35d8c">tbl_data_</link>[blank].measurements.size();
<anchor xml:id="__line_8cpp_source_1l00012"/>00012 &#32;&#32;&#32;&#32;<emphasis role="keyword">auto</emphasis>&#32;a0&#32;=&#32;(<link linkend="_class_render_p_d_f_1a2b011efd97045da1e9ccdab286d35d8c">tbl_data_</link>[blank].measurements[0][0]&#32;+&#32;<link linkend="_class_render_p_d_f_1a2b011efd97045da1e9ccdab286d35d8c">tbl_data_</link>[blank].measurements[0][1])&#32;/&#32;2.0;
<anchor xml:id="__line_8cpp_source_1l00013"/>00013 &#32;&#32;&#32;&#32;<emphasis role="keyword">auto</emphasis>&#32;an&#32;=
<anchor xml:id="__line_8cpp_source_1l00014"/>00014 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;(<link linkend="_class_render_p_d_f_1a2b011efd97045da1e9ccdab286d35d8c">tbl_data_</link>[blank].measurements[size&#32;-&#32;1][0]&#32;+&#32;<link linkend="_class_render_p_d_f_1a2b011efd97045da1e9ccdab286d35d8c">tbl_data_</link>[blank].measurements[size&#32;-&#32;1][1])&#32;/&#32;2.0;
<anchor xml:id="__line_8cpp_source_1l00015"/>00015 &#32;&#32;&#32;&#32;<emphasis role="keyword">auto</emphasis>&#32;aDelta&#32;=&#32;(an&#32;-&#32;a0)&#32;/&#32;size;
<anchor xml:id="__line_8cpp_source_1l00016"/>00016 
<anchor xml:id="__line_8cpp_source_1l00017"/>00017 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<emphasis role="keywordtype">int</emphasis>&#32;i&#32;=&#32;0;&#32;i&#32;&lt;&#32;size;&#32;i++)&#32;{
<anchor xml:id="__line_8cpp_source_1l00018"/>00018 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">auto</emphasis>&#32;asred&#32;=&#32;(<link linkend="_class_render_p_d_f_1a2b011efd97045da1e9ccdab286d35d8c">tbl_data_</link>[blank].measurements[i][0]&#32;+&#32;<link linkend="_class_render_p_d_f_1a2b011efd97045da1e9ccdab286d35d8c">tbl_data_</link>[blank].measurements[i][1])&#32;/&#32;2.0;
<anchor xml:id="__line_8cpp_source_1l00019"/>00019 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_render_p_d_f_1a922299c1a62d014f6a7afcaeddddf0ff">marks</link>.push_back(asred&#32;+&#32;aDelta);
<anchor xml:id="__line_8cpp_source_1l00020"/>00020 &#32;&#32;&#32;&#32;}
<anchor xml:id="__line_8cpp_source_1l00021"/>00021 &#32;&#32;&#32;&#32;std::vector&lt;double&gt;&#32;angles_deg(<link linkend="_class_render_p_d_f_1a922299c1a62d014f6a7afcaeddddf0ff">marks</link>.size());
<anchor xml:id="__line_8cpp_source_1l00022"/>00022 
<anchor xml:id="__line_8cpp_source_1l00023"/>00023 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Конвертация&#32;углов&#32;из&#32;радиан&#32;в&#32;градусы</emphasis>
<anchor xml:id="__line_8cpp_source_1l00024"/>00024 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<emphasis role="keywordtype">size_t</emphasis>&#32;i&#32;=&#32;0;&#32;i&#32;&lt;&#32;<link linkend="_class_render_p_d_f_1a922299c1a62d014f6a7afcaeddddf0ff">marks</link>.size();&#32;i++)&#32;{
<anchor xml:id="__line_8cpp_source_1l00025"/>00025 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;angles_deg[i]&#32;=&#32;<link linkend="_class_render_p_d_f_1a922299c1a62d014f6a7afcaeddddf0ff">marks</link>[i]&#32;*&#32;(180.0&#32;/&#32;<link linkend="_class_render_p_d_f_1adda47ac0eef121635099a286e784f610">PI</link>);
<anchor xml:id="__line_8cpp_source_1l00026"/>00026 &#32;&#32;&#32;&#32;}
<anchor xml:id="__line_8cpp_source_1l00027"/>00027 
<anchor xml:id="__line_8cpp_source_1l00028"/>00028 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">double</emphasis>&#32;a0_deg&#32;=&#32;angles_deg.front();
<anchor xml:id="__line_8cpp_source_1l00029"/>00029 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">double</emphasis>&#32;an_deg&#32;=&#32;angles_deg.back();
<anchor xml:id="__line_8cpp_source_1l00030"/>00030 
<anchor xml:id="__line_8cpp_source_1l00031"/>00031 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Вычисление&#32;добавочного&#32;угла&#32;\Delta</emphasis>
<anchor xml:id="__line_8cpp_source_1l00032"/>00032 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">double</emphasis>&#32;delta&#32;=&#32;(360.0&#32;-&#32;an_deg&#32;-&#32;a0_deg)&#32;/&#32;2;
<anchor xml:id="__line_8cpp_source_1l00033"/>00033 
<anchor xml:id="__line_8cpp_source_1l00034"/>00034 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Пересчет&#32;углов&#32;с&#32;использованием&#32;\Delta</emphasis>
<anchor xml:id="__line_8cpp_source_1l00035"/>00035 &#32;&#32;&#32;&#32;std::vector&lt;double&gt;&#32;new_angles_deg(angles_deg.size());
<anchor xml:id="__line_8cpp_source_1l00036"/>00036 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<emphasis role="keywordtype">size_t</emphasis>&#32;i&#32;=&#32;0;&#32;i&#32;&lt;&#32;angles_deg.size();&#32;i++)&#32;{
<anchor xml:id="__line_8cpp_source_1l00037"/>00037 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;new_angles_deg[i]&#32;=&#32;angles_deg[i]&#32;+&#32;delta;
<anchor xml:id="__line_8cpp_source_1l00038"/>00038 &#32;&#32;&#32;&#32;}
<anchor xml:id="__line_8cpp_source_1l00039"/>00039 
<anchor xml:id="__line_8cpp_source_1l00040"/>00040 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Конвертация&#32;углов&#32;обратно&#32;в&#32;радианы</emphasis>
<anchor xml:id="__line_8cpp_source_1l00041"/>00041 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<emphasis role="keywordtype">size_t</emphasis>&#32;i&#32;=&#32;0;&#32;i&#32;&lt;&#32;new_angles_deg.size();&#32;i++)&#32;{
<anchor xml:id="__line_8cpp_source_1l00042"/>00042 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_render_p_d_f_1a922299c1a62d014f6a7afcaeddddf0ff">marks</link>[i]&#32;=&#32;new_angles_deg[i]&#32;*&#32;(<link linkend="_class_render_p_d_f_1adda47ac0eef121635099a286e784f610">PI</link>&#32;/&#32;180.0);
<anchor xml:id="__line_8cpp_source_1l00043"/>00043 &#32;&#32;&#32;&#32;}
<anchor xml:id="__line_8cpp_source_1l00044"/>00044 }
<anchor xml:id="__line_8cpp_source_1l00045"/>00045 
<anchor xml:id="__line_8cpp_source_1l00052"/><link linkend="_class_render_p_d_f_1a518d3eb66cbcdb313c218dc8028c9673">00052</link> <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_render_p_d_f_1a518d3eb66cbcdb313c218dc8028c9673">RenderPDF::drawMainLines</link>(HPDF_Page&#32;page,&#32;<emphasis role="keywordtype">size_t</emphasis>&#32;blank)&#32;{
<anchor xml:id="__line_8cpp_source_1l00053"/>00053 &#32;&#32;&#32;&#32;<emphasis role="comment">//Рисуем&#32;линии&#32;главные</emphasis>
<anchor xml:id="__line_8cpp_source_1l00054"/>00054 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">double</emphasis>&#32;radius&#32;=&#32;<link linkend="_class_render_p_d_f_1a4188a6f45597ad36f520c78b6ef1278d">cfm_data_</link>.<link linkend="_structcfm_1aed942bb5ac73f26bb0d48bbeb9ec7a85">diameter</link>&#32;/&#32;2.0;
<anchor xml:id="__line_8cpp_source_1l00055"/>00055 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">size_t</emphasis>&#32;i&#32;=&#32;0;
<anchor xml:id="__line_8cpp_source_1l00056"/>00056 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<emphasis role="keywordtype">double</emphasis>&#32;angle:&#32;<link linkend="_class_render_p_d_f_1a922299c1a62d014f6a7afcaeddddf0ff">marks</link>)&#32;{
<anchor xml:id="__line_8cpp_source_1l00057"/>00057 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;angle&#32;=&#32;4.71239&#32;-&#32;angle;
<anchor xml:id="__line_8cpp_source_1l00058"/>00058 
<anchor xml:id="__line_8cpp_source_1l00059"/>00059 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">double</emphasis>&#32;sinAngle&#32;=&#32;sin(angle);
<anchor xml:id="__line_8cpp_source_1l00060"/>00060 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">double</emphasis>&#32;cosAngle&#32;=&#32;cos(angle);
<anchor xml:id="__line_8cpp_source_1l00061"/>00061 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;HPDF_REAL&#32;x1,&#32;x2,&#32;y1,&#32;y2;
<anchor xml:id="__line_8cpp_source_1l00062"/>00062 
<anchor xml:id="__line_8cpp_source_1l00063"/>00063 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;x1&#32;=&#32;<link linkend="_class_render_p_d_f_1afa788735693ee164252a3af3c83bc431">point_data_</link>.<link linkend="_structpoint_1a6917d518caab116551a862eba2717bec">coordinates</link>[<link linkend="_class_render_p_d_f_1aedb69be379199827b2a8c80e7901ea58">point_tbl</link>[blank]&#32;-&#32;1].first&#32;+
<anchor xml:id="__line_8cpp_source_1l00064"/>00064 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;(radius&#32;-&#32;<link linkend="_class_render_p_d_f_1a4188a6f45597ad36f520c78b6ef1278d">cfm_data_</link>.<link linkend="_structcfm_1a8fe3ba9b353d58719364384fc2132825">digital_tick</link>[0])&#32;*&#32;cosAngle;
<anchor xml:id="__line_8cpp_source_1l00065"/>00065 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;y1&#32;=&#32;<link linkend="_class_render_p_d_f_1afa788735693ee164252a3af3c83bc431">point_data_</link>.<link linkend="_structpoint_1a6917d518caab116551a862eba2717bec">coordinates</link>[<link linkend="_class_render_p_d_f_1aedb69be379199827b2a8c80e7901ea58">point_tbl</link>[blank]&#32;-&#32;1].second&#32;+
<anchor xml:id="__line_8cpp_source_1l00066"/>00066 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;(radius&#32;-&#32;<link linkend="_class_render_p_d_f_1a4188a6f45597ad36f520c78b6ef1278d">cfm_data_</link>.<link linkend="_structcfm_1a8fe3ba9b353d58719364384fc2132825">digital_tick</link>[0])&#32;*&#32;sinAngle;
<anchor xml:id="__line_8cpp_source_1l00067"/>00067 
<anchor xml:id="__line_8cpp_source_1l00068"/>00068 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(i&#32;==&#32;0)&#32;{&#32;<emphasis role="comment">//&#32;Если&#32;это&#32;первая&#32;итерация,&#32;сместить&#32;верхнюю&#32;линию&#32;на&#32;90&#32;градусов</emphasis>
<anchor xml:id="__line_8cpp_source_1l00069"/>00069 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">double</emphasis>&#32;shift_angle&#32;=&#32;angle&#32;+&#32;1.5708;&#32;<emphasis role="comment">//&#32;Смещение&#32;на&#32;90&#32;градусов&#32;вправо</emphasis>
<anchor xml:id="__line_8cpp_source_1l00070"/>00070 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">double</emphasis>&#32;center_offset&#32;=&#32;<link linkend="_class_render_p_d_f_1a4188a6f45597ad36f520c78b6ef1278d">cfm_data_</link>.<link linkend="_structcfm_1a8fe3ba9b353d58719364384fc2132825">digital_tick</link>[2]&#32;/&#32;2;&#32;<emphasis role="comment">//&#32;Размер&#32;центра</emphasis>
<anchor xml:id="__line_8cpp_source_1l00071"/>00071 
<anchor xml:id="__line_8cpp_source_1l00072"/>00072 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;x1&#32;=&#32;<link linkend="_class_render_p_d_f_1afa788735693ee164252a3af3c83bc431">point_data_</link>.<link linkend="_structpoint_1a6917d518caab116551a862eba2717bec">coordinates</link>[<link linkend="_class_render_p_d_f_1aedb69be379199827b2a8c80e7901ea58">point_tbl</link>[blank]&#32;-&#32;1].first&#32;+
<anchor xml:id="__line_8cpp_source_1l00073"/>00073 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;(radius&#32;-&#32;<link linkend="_class_render_p_d_f_1a4188a6f45597ad36f520c78b6ef1278d">cfm_data_</link>.<link linkend="_structcfm_1a8fe3ba9b353d58719364384fc2132825">digital_tick</link>[0])&#32;*&#32;cosAngle;
<anchor xml:id="__line_8cpp_source_1l00074"/>00074 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;y1&#32;=&#32;<link linkend="_class_render_p_d_f_1afa788735693ee164252a3af3c83bc431">point_data_</link>.<link linkend="_structpoint_1a6917d518caab116551a862eba2717bec">coordinates</link>[<link linkend="_class_render_p_d_f_1aedb69be379199827b2a8c80e7901ea58">point_tbl</link>[blank]&#32;-&#32;1].second&#32;+
<anchor xml:id="__line_8cpp_source_1l00075"/>00075 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;(radius&#32;-&#32;<link linkend="_class_render_p_d_f_1a4188a6f45597ad36f520c78b6ef1278d">cfm_data_</link>.<link linkend="_structcfm_1a8fe3ba9b353d58719364384fc2132825">digital_tick</link>[0])&#32;*&#32;sinAngle;
<anchor xml:id="__line_8cpp_source_1l00076"/>00076 
<anchor xml:id="__line_8cpp_source_1l00077"/>00077 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;x1&#32;-=&#32;center_offset&#32;*&#32;cos(shift_angle);&#32;<emphasis role="comment">//&#32;Смещение&#32;x&#32;координаты</emphasis>
<anchor xml:id="__line_8cpp_source_1l00078"/>00078 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;y1&#32;-=&#32;center_offset&#32;*&#32;sin(shift_angle);&#32;<emphasis role="comment">//&#32;Смещение&#32;y&#32;координаты</emphasis>
<anchor xml:id="__line_8cpp_source_1l00079"/>00079 
<anchor xml:id="__line_8cpp_source_1l00080"/>00080 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;x2&#32;=&#32;x1&#32;+&#32;(<link linkend="_class_render_p_d_f_1a4188a6f45597ad36f520c78b6ef1278d">cfm_data_</link>.<link linkend="_structcfm_1a8fe3ba9b353d58719364384fc2132825">digital_tick</link>[0]&#32;-&#32;<link linkend="_class_render_p_d_f_1a4188a6f45597ad36f520c78b6ef1278d">cfm_data_</link>.<link linkend="_structcfm_1a8fe3ba9b353d58719364384fc2132825">digital_tick</link>[2])&#32;*
<anchor xml:id="__line_8cpp_source_1l00081"/>00081 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cos(shift_angle);&#32;<emphasis role="comment">//&#32;Правая&#32;часть&#32;линии</emphasis>
<anchor xml:id="__line_8cpp_source_1l00082"/>00082 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;y2&#32;=&#32;y1&#32;+&#32;(<link linkend="_class_render_p_d_f_1a4188a6f45597ad36f520c78b6ef1278d">cfm_data_</link>.<link linkend="_structcfm_1a8fe3ba9b353d58719364384fc2132825">digital_tick</link>[0]&#32;-&#32;<link linkend="_class_render_p_d_f_1a4188a6f45597ad36f520c78b6ef1278d">cfm_data_</link>.<link linkend="_structcfm_1a8fe3ba9b353d58719364384fc2132825">digital_tick</link>[2])&#32;*
<anchor xml:id="__line_8cpp_source_1l00083"/>00083 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;sin(shift_angle);&#32;<emphasis role="comment">//&#32;Правая&#32;часть&#32;линии</emphasis>
<anchor xml:id="__line_8cpp_source_1l00084"/>00084 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}&#32;<emphasis role="keywordflow">else</emphasis>&#32;{
<anchor xml:id="__line_8cpp_source_1l00085"/>00085 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;x2&#32;=&#32;<link linkend="_class_render_p_d_f_1afa788735693ee164252a3af3c83bc431">point_data_</link>.<link linkend="_structpoint_1a6917d518caab116551a862eba2717bec">coordinates</link>[<link linkend="_class_render_p_d_f_1aedb69be379199827b2a8c80e7901ea58">point_tbl</link>[blank]&#32;-&#32;1].first&#32;+
<anchor xml:id="__line_8cpp_source_1l00086"/>00086 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;(radius&#32;-&#32;<link linkend="_class_render_p_d_f_1a4188a6f45597ad36f520c78b6ef1278d">cfm_data_</link>.<link linkend="_structcfm_1a8fe3ba9b353d58719364384fc2132825">digital_tick</link>[2])&#32;*&#32;cosAngle;
<anchor xml:id="__line_8cpp_source_1l00087"/>00087 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;y2&#32;=&#32;<link linkend="_class_render_p_d_f_1afa788735693ee164252a3af3c83bc431">point_data_</link>.<link linkend="_structpoint_1a6917d518caab116551a862eba2717bec">coordinates</link>[<link linkend="_class_render_p_d_f_1aedb69be379199827b2a8c80e7901ea58">point_tbl</link>[blank]&#32;-&#32;1].second&#32;+
<anchor xml:id="__line_8cpp_source_1l00088"/>00088 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;(radius&#32;-&#32;<link linkend="_class_render_p_d_f_1a4188a6f45597ad36f520c78b6ef1278d">cfm_data_</link>.<link linkend="_structcfm_1a8fe3ba9b353d58719364384fc2132825">digital_tick</link>[2])&#32;*&#32;sinAngle;
<anchor xml:id="__line_8cpp_source_1l00089"/>00089 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__line_8cpp_source_1l00090"/>00090 
<anchor xml:id="__line_8cpp_source_1l00091"/>00091 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Верняя&#32;линия</emphasis>
<anchor xml:id="__line_8cpp_source_1l00092"/>00092 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;HPDF_Page_SetLineWidth(page,&#32;<link linkend="_class_render_p_d_f_1a4188a6f45597ad36f520c78b6ef1278d">cfm_data_</link>.<link linkend="_structcfm_1a8fe3ba9b353d58719364384fc2132825">digital_tick</link>[3]);
<anchor xml:id="__line_8cpp_source_1l00093"/>00093 
<anchor xml:id="__line_8cpp_source_1l00094"/>00094 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_render_p_d_f_1ae17f88d413daf207f1b93fc43a8fd679">draw_line</link>(page,&#32;x2,&#32;y2,&#32;x1,&#32;y1);
<anchor xml:id="__line_8cpp_source_1l00095"/>00095 
<anchor xml:id="__line_8cpp_source_1l00096"/>00096 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Нижняя&#32;линия</emphasis>
<anchor xml:id="__line_8cpp_source_1l00097"/>00097 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;x1&#32;=&#32;<link linkend="_class_render_p_d_f_1afa788735693ee164252a3af3c83bc431">point_data_</link>.<link linkend="_structpoint_1a6917d518caab116551a862eba2717bec">coordinates</link>[<link linkend="_class_render_p_d_f_1aedb69be379199827b2a8c80e7901ea58">point_tbl</link>[blank]&#32;-&#32;1].first&#32;+&#32;radius&#32;*&#32;cos(angle);
<anchor xml:id="__line_8cpp_source_1l00098"/>00098 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;y1&#32;=&#32;<link linkend="_class_render_p_d_f_1afa788735693ee164252a3af3c83bc431">point_data_</link>.<link linkend="_structpoint_1a6917d518caab116551a862eba2717bec">coordinates</link>[<link linkend="_class_render_p_d_f_1aedb69be379199827b2a8c80e7901ea58">point_tbl</link>[blank]&#32;-&#32;1].second&#32;+&#32;radius&#32;*&#32;sin(angle);
<anchor xml:id="__line_8cpp_source_1l00099"/>00099 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;x2&#32;=&#32;<link linkend="_class_render_p_d_f_1afa788735693ee164252a3af3c83bc431">point_data_</link>.<link linkend="_structpoint_1a6917d518caab116551a862eba2717bec">coordinates</link>[<link linkend="_class_render_p_d_f_1aedb69be379199827b2a8c80e7901ea58">point_tbl</link>[blank]&#32;-&#32;1].first&#32;+
<anchor xml:id="__line_8cpp_source_1l00100"/>00100 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;(radius&#32;-&#32;<link linkend="_class_render_p_d_f_1a4188a6f45597ad36f520c78b6ef1278d">cfm_data_</link>.<link linkend="_structcfm_1a8fe3ba9b353d58719364384fc2132825">digital_tick</link>[2])&#32;*&#32;cosAngle;
<anchor xml:id="__line_8cpp_source_1l00101"/>00101 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;y2&#32;=&#32;<link linkend="_class_render_p_d_f_1afa788735693ee164252a3af3c83bc431">point_data_</link>.<link linkend="_structpoint_1a6917d518caab116551a862eba2717bec">coordinates</link>[<link linkend="_class_render_p_d_f_1aedb69be379199827b2a8c80e7901ea58">point_tbl</link>[blank]&#32;-&#32;1].second&#32;+
<anchor xml:id="__line_8cpp_source_1l00102"/>00102 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;(radius&#32;-&#32;<link linkend="_class_render_p_d_f_1a4188a6f45597ad36f520c78b6ef1278d">cfm_data_</link>.<link linkend="_structcfm_1a8fe3ba9b353d58719364384fc2132825">digital_tick</link>[2])&#32;*&#32;sinAngle;
<anchor xml:id="__line_8cpp_source_1l00103"/>00103 
<anchor xml:id="__line_8cpp_source_1l00104"/>00104 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(i&#32;==&#32;0)&#32;{
<anchor xml:id="__line_8cpp_source_1l00105"/>00105 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;x2&#32;=&#32;<link linkend="_class_render_p_d_f_1afa788735693ee164252a3af3c83bc431">point_data_</link>.<link linkend="_structpoint_1a6917d518caab116551a862eba2717bec">coordinates</link>[<link linkend="_class_render_p_d_f_1aedb69be379199827b2a8c80e7901ea58">point_tbl</link>[blank]&#32;-&#32;1].first&#32;+
<anchor xml:id="__line_8cpp_source_1l00106"/>00106 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;(radius&#32;-&#32;<link linkend="_class_render_p_d_f_1a4188a6f45597ad36f520c78b6ef1278d">cfm_data_</link>.<link linkend="_structcfm_1a8fe3ba9b353d58719364384fc2132825">digital_tick</link>[0])&#32;*&#32;cosAngle;
<anchor xml:id="__line_8cpp_source_1l00107"/>00107 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;y2&#32;=&#32;<link linkend="_class_render_p_d_f_1afa788735693ee164252a3af3c83bc431">point_data_</link>.<link linkend="_structpoint_1a6917d518caab116551a862eba2717bec">coordinates</link>[<link linkend="_class_render_p_d_f_1aedb69be379199827b2a8c80e7901ea58">point_tbl</link>[blank]&#32;-&#32;1].second&#32;+
<anchor xml:id="__line_8cpp_source_1l00108"/>00108 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;(radius&#32;-&#32;<link linkend="_class_render_p_d_f_1a4188a6f45597ad36f520c78b6ef1278d">cfm_data_</link>.<link linkend="_structcfm_1a8fe3ba9b353d58719364384fc2132825">digital_tick</link>[0])&#32;*&#32;sinAngle;
<anchor xml:id="__line_8cpp_source_1l00109"/>00109 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__line_8cpp_source_1l00110"/>00110 
<anchor xml:id="__line_8cpp_source_1l00111"/>00111 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;HPDF_Page_SetLineWidth(page,&#32;<link linkend="_class_render_p_d_f_1a4188a6f45597ad36f520c78b6ef1278d">cfm_data_</link>.<link linkend="_structcfm_1a8fe3ba9b353d58719364384fc2132825">digital_tick</link>[1]);
<anchor xml:id="__line_8cpp_source_1l00112"/>00112 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_render_p_d_f_1ae17f88d413daf207f1b93fc43a8fd679">draw_line</link>(page,&#32;x2,&#32;y2,&#32;x1,&#32;y1);
<anchor xml:id="__line_8cpp_source_1l00113"/>00113 
<anchor xml:id="__line_8cpp_source_1l00114"/>00114 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;i++;
<anchor xml:id="__line_8cpp_source_1l00115"/>00115 &#32;&#32;&#32;&#32;}
<anchor xml:id="__line_8cpp_source_1l00116"/>00116 }
<anchor xml:id="__line_8cpp_source_1l00117"/>00117 
<anchor xml:id="__line_8cpp_source_1l00118"/>00118 
<anchor xml:id="__line_8cpp_source_1l00125"/><link linkend="_class_render_p_d_f_1acbc9c679d623723340171bd56c5575cb">00125</link> <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_render_p_d_f_1acbc9c679d623723340171bd56c5575cb">RenderPDF::drawAdditionalTicks</link>(HPDF_Page&#32;page,&#32;<emphasis role="keywordtype">size_t</emphasis>&#32;blank)&#32;{
<anchor xml:id="__line_8cpp_source_1l00126"/>00126 &#32;&#32;&#32;&#32;<emphasis role="keyword">auto</emphasis>&#32;radius&#32;=&#32;<link linkend="_class_render_p_d_f_1a4188a6f45597ad36f520c78b6ef1278d">cfm_data_</link>.<link linkend="_structcfm_1aed942bb5ac73f26bb0d48bbeb9ec7a85">diameter</link>&#32;/&#32;2.0f;
<anchor xml:id="__line_8cpp_source_1l00127"/>00127 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">size_t</emphasis>&#32;size_tick_mask&#32;=&#32;<link linkend="_class_render_p_d_f_1a4188a6f45597ad36f520c78b6ef1278d">cfm_data_</link>.<link linkend="_structcfm_1ab7a2a2c7e4295dbc7dde267a66c1aab2">tick_mask</link>.size()&#32;-&#32;1;
<anchor xml:id="__line_8cpp_source_1l00128"/>00128 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<emphasis role="keywordtype">size_t</emphasis>&#32;k&#32;=&#32;0;&#32;k&#32;&lt;&#32;<link linkend="_class_render_p_d_f_1a922299c1a62d014f6a7afcaeddddf0ff">marks</link>.size()&#32;-&#32;1;&#32;k++)&#32;{
<anchor xml:id="__line_8cpp_source_1l00129"/>00129 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">double</emphasis>&#32;angle1&#32;=&#32;4.71239&#32;-&#32;<link linkend="_class_render_p_d_f_1a922299c1a62d014f6a7afcaeddddf0ff">marks</link>[k];
<anchor xml:id="__line_8cpp_source_1l00130"/>00130 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">double</emphasis>&#32;angle2&#32;=&#32;4.71239&#32;-&#32;<link linkend="_class_render_p_d_f_1a922299c1a62d014f6a7afcaeddddf0ff">marks</link>[k&#32;+&#32;1];
<anchor xml:id="__line_8cpp_source_1l00131"/>00131 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">double</emphasis>&#32;angle_diff&#32;=&#32;(angle2&#32;-&#32;angle1)&#32;/&#32;<emphasis role="keywordtype">double</emphasis>(size_tick_mask);
<anchor xml:id="__line_8cpp_source_1l00132"/>00132 
<anchor xml:id="__line_8cpp_source_1l00133"/>00133 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<emphasis role="keywordtype">size_t</emphasis>&#32;j&#32;=&#32;1;&#32;j&#32;&lt;=&#32;size_tick_mask;&#32;j++)&#32;{
<anchor xml:id="__line_8cpp_source_1l00134"/>00134 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">double</emphasis>&#32;angle&#32;=&#32;angle1&#32;+&#32;j&#32;*&#32;angle_diff;
<anchor xml:id="__line_8cpp_source_1l00135"/>00135 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;HPDF_REAL&#32;x1&#32;=&#32;<link linkend="_class_render_p_d_f_1afa788735693ee164252a3af3c83bc431">point_data_</link>.<link linkend="_structpoint_1a6917d518caab116551a862eba2717bec">coordinates</link>[<link linkend="_class_render_p_d_f_1aedb69be379199827b2a8c80e7901ea58">point_tbl</link>[blank]&#32;-&#32;1].first&#32;+&#32;radius&#32;*&#32;cos(angle);
<anchor xml:id="__line_8cpp_source_1l00136"/>00136 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;HPDF_REAL&#32;y1&#32;=&#32;<link linkend="_class_render_p_d_f_1afa788735693ee164252a3af3c83bc431">point_data_</link>.<link linkend="_structpoint_1a6917d518caab116551a862eba2717bec">coordinates</link>[<link linkend="_class_render_p_d_f_1aedb69be379199827b2a8c80e7901ea58">point_tbl</link>[blank]&#32;-&#32;1].second&#32;+&#32;radius&#32;*&#32;sin(angle);
<anchor xml:id="__line_8cpp_source_1l00137"/>00137 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;HPDF_REAL&#32;x2,&#32;y2;
<anchor xml:id="__line_8cpp_source_1l00138"/>00138 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;HPDF_REAL&#32;height_line;
<anchor xml:id="__line_8cpp_source_1l00139"/>00139 
<anchor xml:id="__line_8cpp_source_1l00140"/>00140 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="_class_render_p_d_f_1a4188a6f45597ad36f520c78b6ef1278d">cfm_data_</link>.<link linkend="_structcfm_1ab7a2a2c7e4295dbc7dde267a66c1aab2">tick_mask</link>[j]&#32;==&#32;<emphasis role="charliteral">&apos;1&apos;</emphasis>)&#32;{
<anchor xml:id="__line_8cpp_source_1l00141"/>00141 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;height_line&#32;=&#32;<link linkend="_class_render_p_d_f_1a4188a6f45597ad36f520c78b6ef1278d">cfm_data_</link>.<link linkend="_structcfm_1ac4b86bca5f71ce33c545d435fd2027ae">small_tick</link>[0];
<anchor xml:id="__line_8cpp_source_1l00142"/>00142 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__line_8cpp_source_1l00143"/>00143 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="_class_render_p_d_f_1a4188a6f45597ad36f520c78b6ef1278d">cfm_data_</link>.<link linkend="_structcfm_1ab7a2a2c7e4295dbc7dde267a66c1aab2">tick_mask</link>[j]&#32;==&#32;<emphasis role="charliteral">&apos;2&apos;</emphasis>)&#32;{
<anchor xml:id="__line_8cpp_source_1l00144"/>00144 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;height_line&#32;=&#32;<link linkend="_class_render_p_d_f_1a4188a6f45597ad36f520c78b6ef1278d">cfm_data_</link>.<link linkend="_structcfm_1a0d8b3917577bf50c3a2ded2e2f6e4f72">big_tick</link>[0];
<anchor xml:id="__line_8cpp_source_1l00145"/>00145 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__line_8cpp_source_1l00146"/>00146 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="_class_render_p_d_f_1a4188a6f45597ad36f520c78b6ef1278d">cfm_data_</link>.<link linkend="_structcfm_1ab7a2a2c7e4295dbc7dde267a66c1aab2">tick_mask</link>[j]&#32;==&#32;<emphasis role="charliteral">&apos;3&apos;</emphasis>)&#32;{
<anchor xml:id="__line_8cpp_source_1l00147"/>00147 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;height_line&#32;=&#32;<link linkend="_class_render_p_d_f_1a4188a6f45597ad36f520c78b6ef1278d">cfm_data_</link>.<link linkend="_structcfm_1a8fe3ba9b353d58719364384fc2132825">digital_tick</link>[0];
<anchor xml:id="__line_8cpp_source_1l00148"/>00148 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__line_8cpp_source_1l00149"/>00149 
<anchor xml:id="__line_8cpp_source_1l00150"/>00150 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;x2&#32;=&#32;<link linkend="_class_render_p_d_f_1afa788735693ee164252a3af3c83bc431">point_data_</link>.<link linkend="_structpoint_1a6917d518caab116551a862eba2717bec">coordinates</link>[<link linkend="_class_render_p_d_f_1aedb69be379199827b2a8c80e7901ea58">point_tbl</link>[blank]&#32;-&#32;1].first&#32;+&#32;(radius&#32;-&#32;height_line)&#32;*&#32;cos(angle);
<anchor xml:id="__line_8cpp_source_1l00151"/>00151 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;y2&#32;=&#32;<link linkend="_class_render_p_d_f_1afa788735693ee164252a3af3c83bc431">point_data_</link>.<link linkend="_structpoint_1a6917d518caab116551a862eba2717bec">coordinates</link>[<link linkend="_class_render_p_d_f_1aedb69be379199827b2a8c80e7901ea58">point_tbl</link>[blank]&#32;-&#32;1].second&#32;+&#32;(radius&#32;-&#32;height_line)&#32;*&#32;sin(angle);
<anchor xml:id="__line_8cpp_source_1l00152"/>00152 
<anchor xml:id="__line_8cpp_source_1l00153"/>00153 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_render_p_d_f_1ae17f88d413daf207f1b93fc43a8fd679">draw_line</link>(page,&#32;x1,&#32;y1,&#32;x2,&#32;y2);
<anchor xml:id="__line_8cpp_source_1l00154"/>00154 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__line_8cpp_source_1l00155"/>00155 &#32;&#32;&#32;&#32;}
<anchor xml:id="__line_8cpp_source_1l00156"/>00156 }
</programlisting></section>
